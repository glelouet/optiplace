tosca_definitions_version: tosca_simple_yaml_1_0_0_wd03

tosca_default_namespace: Tosca default namespace value
template_name: Template name value
template_author: Template author value
template_version: 1.0.0-SNAPSHOT

description: all inclusive (types + topology)

imports:
  - https://raw.githubusercontent.com/alien4cloud/tosca-normative-types/1.1.0/normative-types.yml
  - hosanna-type: 1.0

topology_template:
  node_templates:
    hosanna:
      type: hosanna.nodes.Compute
      capabilities:
            container:
              properties:
                disk_size: 10 GB
                num_cpus: 4
                mem_size: 4096 MB
      properties:
            stack:
                name: "HosannaForge"
                version: "1.0"
                os:
                  name: "CentOS"
                  version: "7"
                  arch: "x86_64"
                  profile: "Minimal"

node_types:
  hosanna.nodes.Compute:
    derived_from: tosca.nodes.Compute
    description:
    capabilities:
      container:
        type: hosanna.capabilities.Container
    properties:
        stack:
          type: hosanna.datatypes.Stack

capability_types:
  hosanna.capabilities.Container:
    derived_from: tosca.capabilities.Root
    properties:
          disk_size:
            type: scalar-unit.size
            description: Size of the local disk available to applications running on the Compute node (default unit is MB).
            required: false
            constraints:
              - greater_or_equal: 0 MB
          num_cpus:
            type: integer
            description: Number of (actual or virtual) CPUs associated with the Compute node.
            required: false
            constraints:
              - greater_or_equal: 1
          mem_size:
            type: scalar-unit.size
            description: Size of memory available to applications running on the Compute node (default unit is MB).
            required: false
            constraints:
              - greater_or_equal: 0 MB
  hosanna.capabilities.Stack:
      derived_from: tosca.capabilities.Root
      properties:
        name:
          required: true
          type: string
        version:
          required: true
          type: string
        os:
          required: true
          type: hosanna.datatypes.OS

data_types:
  hosanna.datatypes.Stack:
    derived_from: tosca.datatypes.Root
    properties:
      name:
        required: true
        type: string
      version:
        required: true
        type: string
      os:
        required: true
        type: hosanna.datatypes.OS

  hosanna.datatypes.OS:
    derived_from: tosca.datatypes.Root
    properties:
      name:
        required: true
        type: string
      version:
        required: true
        type: string
      arch:
        required: true
        type: string
      profile:
        required: false
        type: string


